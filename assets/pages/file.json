{
  "type": "page",
  "body": [
    {
      "type": "page",
      "asideResizor": true,
      "asideMinWidth": 400,
      "asideMaxWidth": 800,
      "aside": [
        {
          "type": "input-tree",
          "name": "tree",
          "initiallyOpen": false,
          "unfoldedLevel": 1,
          "searchable": true,
          "showOutline": true,
          "showIcon": true,
          "searchConfig": {
            "sticky": true
          },
          "heightAuto": true,
          "inputClassName": "no-border no-padder mt-1",
          "source": "get:/k8s/file/list?path=/",
          "deferApi": "get:/k8s/file/list?path=$path",
          "labelField": "name",
          "valueField": "path",
          "deferField": "isDir",
          "onEvent": {
            "change": {
              "actions": [
                {
                  "componentId": "detail",
                  "actionType": "reload",
                  "data": {
                    "path": "${event.data.item.path}",
                    "isDir": "${event.data.item.isDir}"
                  }
                }
              ]
            }
          }
        }
      ],
      "toolbar": [
        {
          "type": "tpl",
          "tpl": ""
        }
      ],
      "body": [
        {
          "type": "service",
          "api": "post:/k8s/file/show",
          "body": [
            {
              "type": "form",
              "title": "编辑",
              "api": {
                "method": "post",
                "url": "/k8s/file/save",
                "data": {
                  "file_context": "${file_context | base64Encode}",
                  "path": "${path}"
                }
              },
              "inline": false,
              "body": [
                {
                  "type": "input-text",
                  "name": "path",
                  "label": "path",
                  "disabled": true
                },
                {
                  "type": "editor",
                  "name": "file_context",
                  "size": "xxl",
                  "allowFullscreen": true,
                  "value": "${content|base64Decode}",
                  "language": "shell",
                  "options": {
                    "wordWrap": "on",
                    "scrollbar": {
                      "vertical": "auto"
                    }
                  }
                }
              ]
            }
          ],
          "id": "detail"
        }
      ]
    }
  ]
}

